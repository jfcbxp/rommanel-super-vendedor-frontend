(()=>{"use strict";var e={4367:(e,t,n)=>{n.r(t),n.d(t,{default:()=>St});var r=n(885),o=n(3535),i=n(3292),l=n(4333),a=n(477),s=n(7132),u=(n(3693),n(5861)),c=n(9526),d=n(8615);function f(e){var t="http://2970-170-82-181-193.ngrok-free.app/super-vendedor";return e?d.default.create({baseURL:t,headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"24002023",Authorization:"Bearer "+e},timeout:2e4}):d.default.create({baseURL:t,headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"24002023"},timeout:2e4})}var h=n(5519),p=n(1778),y=n(4942),v=n(196),x=n(1133),g=n(9233),j=l.default.create({container:{flex:1,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.8)"},field:{marginHorizontal:"5%",backgroundColor:"#F0F2F7",borderRadius:18,padding:"5%"},title:{marginVertical:8,fontSize:24,fontWeight:"bold"},content:{marginVertical:8,paddingHorizontal:"5%",fontSize:16,textAlign:"justify"}}),m=n(1451),b=l.default.create({button:{width:"100%",backgroundColor:"#73186D",alignItems:"center",justifyContent:"center",paddingVertical:12,paddingHorizontal:32,borderRadius:90,elevation:3,marginTop:16},text:{fontSize:16,fontFamily:"Inter_700Bold",letterSpacing:.25,color:"white"}}),w=n(7557);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=(0,c.useState)(1),n=(0,r.default)(t,2),o=n[0],i=n[1];return(0,c.useEffect)((function(){i(e.disabled?.5:1)}),[e.disabled]),(0,w.jsx)(m.default,C(C({},e),{},{disabled:e.disabled,style:[b.button,{opacity:o}],children:(0,w.jsx)(g.default,{style:b.text,children:e.title})}))}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return(0,w.jsx)(v.default,P(P({},e),{},{visible:e.visible,transparent:!0,animationType:"fade",children:(0,w.jsx)(x.default,{style:j.container,children:(0,w.jsxs)(x.default,{style:j.field,children:[(0,w.jsx)(g.default,{style:j.title,children:e.title}),(0,w.jsx)(g.default,{style:j.content,children:e.content}),(0,w.jsx)(S,{onPress:e.dismiss,title:"CONTINUAR"})]})})}))}var I=n(6032);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return(0,w.jsx)(v.default,z(z({},e),{},{animationType:"fade",children:(0,w.jsx)(a.default,{style:{flex:1,backgroundColor:"#73186D",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(I.default,{size:128,color:"#E0CCDC"})})}))}function T(e){return(0,w.jsx)(v.default,z(z({},e),{},{transparent:!0,animationType:"fade",children:(0,w.jsx)(a.default,{style:{flex:1,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.8)"},children:(0,w.jsx)(I.default,{size:128,color:"white"})})}))}var _=n(2727),A={user:void 0,token:void 0,loading:!0,date:void 0,handleChangeDate:function(){},signIn:function(){var e=(0,u.default)((function*(){}));return function(){return e.apply(this,arguments)}}(),signOut:function(){var e=(0,u.default)((function*(){}));return function(){return e.apply(this,arguments)}}(),validateToken:function(){var e=(0,u.default)((function*(){return Promise.resolve(void 0)}));return function(){return e.apply(this,arguments)}}(),startLoading:function(){},stopLoading:function(){},showDialog:function(){}},R=(0,c.createContext)(A);const B=function(e){var t=e.children,n=(0,_.useNavigation)(),o=(0,c.useState)(),i=(0,r.default)(o,2),l=i[0],a=i[1],s=(0,c.useState)(),d=(0,r.default)(s,2),y=d[0],v=d[1],x=(0,c.useState)(),g=(0,r.default)(x,2),j=g[0],m=g[1],b=(0,c.useState)(!0),O=(0,r.default)(b,2),C=O[0],S=O[1],D={title:"",content:"",visible:!1},P={title:"Erro",content:"N\xe3o foi poss\xedvel se comunicar com o servidor",visible:!0},I={title:"Nada consta",content:"Nenhum dado foi encontrado para exibir",visible:!0},F={title:"Credenciais inv\xe1lidas",content:"C\xf3digo do vendedor e/ou senha incorreto(a)s",visible:!0},z=(0,c.useState)(D),T=(0,r.default)(z,2),A=T[0],B=T[1],L=function(){var e=function(){var e=(0,u.default)((function*(e,t){return(yield f().post("/login",{code:e,password:t})).data}));return function(t,n){return e.apply(this,arguments)}}();return{signIn:e}}(),M=function(){var e=function(){var e=(0,u.default)((function*(e){return(yield f().post("/update",e)).data}));return function(t){return e.apply(this,arguments)}}();return{renewToken:e}}();(0,c.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){yield $()}));return function(){return e.apply(this,arguments)}}();l||e().catch((function(){}))}),[]),(0,c.useEffect)((function(){A.visible&&n.canGoBack()&&n.goBack()}),[A]);var N=function(){var e=(0,u.default)((function*(e,t){S(!0),yield L.signIn(e,t).then(function(){var e=(0,u.default)((function*(e){v(e),a(q(e)),yield U(e)}));return function(t){return e.apply(this,arguments)}}()).catch((function(){B(F)})),S(!1)}));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=(0,u.default)((function*(){S(!0),a(void 0),v(void 0),m(void 0),yield h.default.clear(),S(!1)}));return function(){return e.apply(this,arguments)}}(),V=function(e){m(e)},W=function(){var e=(0,u.default)((function*(){try{var e=yield h.default.getItem("@token");if(e)return JSON.parse(e)}catch(P){console.error(P)}}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,u.default)((function*(e){try{var t=JSON.stringify(e);yield h.default.setItem("@token",t)}catch(P){console.error(P)}}));return function(t){return e.apply(this,arguments)}}(),q=function(e){return(0,p.default)(e.token)},$=function(){var e=(0,u.default)((function*(){var e;return yield W().then(function(){var t=(0,u.default)((function*(t){if(e=t){var n=q(e),r=n.exp;1e3*r>Date.now()?a(n):(e=yield M.renewToken(e),v(e),a(q(e)),yield U(e))}}));return function(e){return t.apply(this,arguments)}}()),e}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,u.default)((function*(e){S(!1),"error"==e&&B(P),"noData"==e&&B(I)}));return function(t){return e.apply(this,arguments)}}(),G=function(){S(!0)},J=function(){S(!1)},Y=(0,c.useMemo)((function(){return{user:l,token:y,loading:C,date:j,handleChangeDate:V,signIn:N,signOut:H,validateToken:$,startLoading:G,stopLoading:J,showDialog:Q}}),[l,y,C,j,V,N,H,$,G,J,Q]);return(0,w.jsxs)(R.Provider,{value:Y,children:[(0,w.jsx)(k,{title:A.title,content:A.content,visible:A.visible,dismiss:function(){B(D)}}),(0,w.jsx)(E,{visible:C}),t]})};var L=n(1233),M=n(9899),N=n(6337),H=l.default.create({container:{flex:1,maxHeight:N.default.get("window").height,backgroundColor:"#F0F2F7",justifyContent:"center",paddingHorizontal:"10%"},title:{fontSize:28,fontFamily:"Inter_700Bold",width:300,color:"#73186D"},text:{width:"100%",height:40,fontSize:16,fontFamily:"Inter_700Bold",letterSpacing:.25,color:"#73186D",textAlign:"center",marginBottom:40}}),V=n(3497),W=l.default.create({input:{width:"100%",height:40,backgroundColor:"white",color:"#73186D",fontSize:16,fontFamily:"Inter_700Bold",borderRadius:18,paddingHorizontal:16,marginBottom:16}});function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){return(0,w.jsx)(V.default,q(q({},e),{},{autoCapitalize:"none",maxFontSizeMultiplier:14,placeholder:"C\xf3digo do vendedor",placeholderTextColor:"#73186D",maxLength:6,keyboardType:"number-pad",style:W.input}))}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){return(0,w.jsx)(V.default,G(G({},e),{},{textContentType:"password",secureTextEntry:!0,autoCapitalize:"none",placeholder:e.placeholder?e.placeholder:"Senha",placeholderTextColor:"#73186D",style:W.input}))}function Y(e){e.navigation;var t=(0,c.useState)(""),o=(0,r.default)(t,2),l=o[0],a=o[1],s=(0,c.useState)(""),d=(0,r.default)(s,2),f=d[0],h=d[1],p=(0,c.useContext)(R);(0,c.useEffect)((function(){p.stopLoading()}),[]);return(0,w.jsxs)(x.default,{style:H.container,children:[(0,w.jsxs)(x.default,{style:{marginBottom:32},children:[(0,w.jsx)(M.default,{source:n(2799),style:{width:85,height:77}}),(0,w.jsx)(g.default,{style:H.title,children:"Ol\xe1,"}),(0,w.jsx)(g.default,{style:H.title,children:"seja bem-vindo(a)."})]}),(0,w.jsxs)(x.default,{style:{marginBottom:40},children:[(0,w.jsx)($,{value:l,onChangeText:a}),(0,w.jsx)(J,{value:f,onChangeText:h}),(0,w.jsx)(S,{title:"ENTRAR",disabled:6!=l.length||!f,onPress:function(){var e=function(){var e=(0,u.default)((function*(){yield p.signIn(l,f)}));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}})]}),(0,w.jsx)(g.default,{style:H.text,children:"Solicite seu acesso ao setor de T.I"}),(0,w.jsx)(i.default,{style:"light",translucent:!1,backgroundColor:"#BEC0C5"})]})}function K(){var e=(0,L.default)();return(0,w.jsx)(e.Navigator,{children:(0,w.jsx)(e.Screen,{name:"SignIn",component:Y,options:{title:"Login",headerShown:!1}})})}var X=l.default.create({container:{flex:1,maxHeight:N.default.get("window").height,backgroundColor:"#F0F2F7"},body:{flex:9,paddingHorizontal:"5%"},navigator:{flex:1.75,flexDirection:"row",justifyContent:"space-between",paddingTop:"5%"},bottom:{flex:7.25,paddingTop:"2.5%"},title:{fontSize:13,fontFamily:"Inter_700Bold",color:"#73186D",alignSelf:"flex-end"},subtitle:{fontSize:12,fontFamily:"Inter_500Medium",textAlign:"center",color:"#BEC0C5"}}),Z=l.default.create({container:{flex:1,flexDirection:"row",backgroundColor:"#73186D",justifyContent:"center",paddingHorizontal:"5%"},portrait:{flex:1,alignItems:"center",justifyContent:"center"},titles:{flex:3,justifyContent:"center"},logout:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:18,fontFamily:"Inter_700Bold",color:"white"},subTitle:{fontSize:13,fontFamily:"Inter_500Medium",color:"white"}}),ee=n(3034);function te(){var e,t,r=(0,c.useContext)(R);return(0,w.jsxs)(x.default,{style:Z.container,children:[(0,w.jsx)(x.default,{style:Z.portrait,children:(0,w.jsx)(M.default,{source:n(2799),style:{width:56,height:56,backgroundColor:"#F0F2F7",borderWidth:3,borderColor:"#601C5C",borderRadius:90}})}),(0,w.jsxs)(x.default,{style:Z.titles,children:[(0,w.jsx)(g.default,{style:Z.title,children:null==(e=r.user)?void 0:e.fullName.trim()}),(0,w.jsx)(g.default,{style:Z.subTitle,children:"ROLE_USER"==(null==(t=r.user)?void 0:t.role[0])?"Vendedor":void 0})]}),(0,w.jsx)(x.default,{style:Z.logout,children:(0,w.jsx)(ee.default,{name:"logout",size:32,color:"white",style:{marginLeft:"auto"},onPress:function(){return r.signOut()}})})]})}var ne=n(8576),re=l.default.create({divider:{borderBottomWidth:1,borderColor:"silver"}});function oe(){return(0,w.jsx)(x.default,{style:re.divider})}var ie=l.default.create({container:{flex:1,width:"100%",padding:"2.5%",borderTopLeftRadius:18,borderTopRightRadius:18,borderWidth:1,borderColor:"#73186D",backgroundColor:"white"},title:{fontSize:18,fontFamily:"Inter_700Bold",color:"#73186D",marginBottom:"2.5%"}}),le=n(5202);function ae(e){return(0,w.jsxs)(x.default,{style:ie.container,children:[(0,w.jsxs)(x.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,w.jsx)(g.default,{style:ie.title,children:e.title}),e.onReload&&!e.disabled?(0,w.jsx)(le.default,{name:"reload",color:"#73186D",size:32,disabled:e.disabled,onPress:e.onReload}):void 0]}),(0,w.jsx)(oe,{}),(0,w.jsx)(ne.default,{style:{flex:1},children:e.children})]})}var se=n(4637),ue=l.default.create({container:{width:100,height:100,borderRadius:18,borderWidth:1,borderColor:"#73186D",backgroundColor:"white",alignItems:"center"},area:{flex:1,flexDirection:"column",justifyContent:"space-around",paddingVertical:14},text:{fontSize:10.54,fontFamily:"Inter_700Bold",color:"#73186D",textAlign:"center",textAlignVertical:"center"}});function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){return(0,w.jsx)(se.default,de(de({},e),{},{style:ue.container,children:(0,w.jsxs)(x.default,{style:ue.area,children:[(0,w.jsx)(ee.default,{name:e.icon,size:42,color:"#73186D",style:{alignSelf:"center"}}),(0,w.jsx)(g.default,{style:ue.text,children:e.title})]})}))}var he=l.default.create({container:{flexDirection:"row",paddingVertical:"2.5%"},titles:{flex:1,flexDirection:"row",justifyContent:"space-between"},title:{fontSize:12,fontFamily:"Inter_500Medium",color:"#73186D"},subTitle:{fontSize:11,fontFamily:"Inter_500Medium",color:"#BEC0C5"},progressBar:{flex:1,paddingVertical:"2.5%"},icon:{flex:1,alignItems:"center",justifyContent:"center"},bar:{flex:7}});function pe(e){e||(e={title:"",step:0,steps:0,period:"nada consta",type:"number"});var t=100*e.step/e.steps+"%",n=function(e){return e.includes(",")?e.split(",")[1].length<2&&(e+="0"):e+=",00",e},r=n(e.step.toLocaleString("pt-BR")),o=n(e.steps.toLocaleString("pt-BR"));return(0,w.jsxs)(x.default,{style:he.container,children:[(0,w.jsx)(x.default,{style:he.icon,children:e.step>=e.steps?(0,w.jsx)(ee.default,{name:"check-box",color:"#73186D",size:32}):(0,w.jsx)(ee.default,{name:"check-box-outline-blank",color:"#73186D",size:32})}),(0,w.jsxs)(x.default,{style:he.bar,children:[(0,w.jsxs)(x.default,{style:he.titles,children:[(0,w.jsx)(g.default,{style:he.title,children:e.title}),"money"==e.type||"date"==e.type?(0,w.jsxs)(g.default,{style:he.subTitle,children:["money"==e.type?"R$ "+r+" / R$ "+o:void 0,"date"==e.type?""+e.period:void 0]}):(0,w.jsxs)(g.default,{style:he.subTitle,children:[e.step," / ",e.steps]})]}),(0,w.jsx)(x.default,{style:he.progressBar,children:(0,w.jsx)(x.default,{style:{width:"100%",height:6,backgroundColor:"#E0CCDC"},children:(0,w.jsx)(x.default,{style:{width:t,height:6,backgroundColor:"#73186D"}})})})]})]})}var ye=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get("/meta/"+t)).data}));return function(e){return t.apply(this,arguments)}}();return{get:t}};function ve(e){var t=e.navigation,n=(0,c.useContext)(R),o=(0,c.useState)(),l=(0,r.default)(o,2),a=l[0],s=l[1],d=ye();(0,c.useEffect)((function(){return t.addListener("focus",(function(){n.startLoading(),f().finally(n.stopLoading)}))}),[t]);var f=function(){var e=(0,u.default)((function*(){var e;yield Promise.all([d.get(null==(e=n.user)?void 0:e.sub)]).then(function(){var e=(0,u.default)((function*(e){var t=(0,r.default)(e,1)[0];t?s(t):n.showDialog("noData")}));return function(t){return e.apply(this,arguments)}}())}));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(x.default,{style:X.container,children:[(0,w.jsx)(te,{}),(0,w.jsxs)(x.default,{style:X.body,children:[(0,w.jsxs)(x.default,{style:X.navigator,children:[(0,w.jsx)(fe,{title:"Agendamento",icon:"schedule",onPress:function(){t.navigate("Scheduling")}}),(0,w.jsx)(fe,{title:"Carteira",icon:"check-box",onPress:function(){t.navigate("Wallet")}}),(0,w.jsx)(fe,{title:"Faturamento",icon:"bar-chart",onPress:function(){t.navigate("Billing")}})]}),(0,w.jsx)(x.default,{style:X.bottom,children:(0,w.jsx)(ae,{title:"Apura\xe7\xe3o",onReload:function(){n.startLoading(),f().finally((function(){return n.stopLoading()})).catch((function(){return n.showDialog("noData")}))},disabled:!!a,children:a?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(g.default,{style:X.title,children:["\xdaltima atualiza\xe7\xe3o:"," ",a?a.dataAtualizacao:"--/--/----"," as"," ",a?a.horaAtualizacao:" --:--"]}),(0,w.jsx)(pe,{title:"Per\xedodo atual",step:a.progressoPeriodo,steps:100,period:a.dataInicial+" a "+a.dataFinal,type:"date"}),(0,w.jsx)(oe,{}),(0,w.jsx)(pe,{title:"Total Vendido",step:a.totalVendido,steps:a.metaValor,type:"money"}),(0,w.jsx)(oe,{}),(0,w.jsx)(pe,{title:"Prospectos",step:a.quantidadeProspectos,steps:a.metaProspecto,type:"number"}),(0,w.jsx)(oe,{}),(0,w.jsx)(pe,{title:"Items",step:a.quantidadeItens,steps:a.quantidadeItens,type:"number"}),(0,w.jsx)(oe,{}),(0,w.jsx)(pe,{title:"Ticket M\xe9dio",step:a.ticketMedio,steps:a.ticketMedio,type:"money"}),(0,w.jsx)(oe,{}),(0,w.jsx)(pe,{title:"Reativos",step:a.quantidadeReativos,steps:a.quantidadeReativos,type:"number"}),(0,w.jsx)(oe,{}),(0,w.jsx)(g.default,{style:X.subtitle,children:"Solicite a atualiza\xe7\xe3o da apura\xe7\xe3o para seu gerente."})]}):(0,w.jsx)(g.default,{style:X.subtitle,children:"Voc\xea ainda n\xe3o possui apura\xe7\xe3o calculada, verifique com seu gerente."})})})]}),(0,w.jsx)(i.default,{style:"light",translucent:!1,backgroundColor:"#601C5C"})]})}var xe=l.default.create({container:{flex:1,maxHeight:N.default.get("window").height,backgroundColor:"#F0F2F7"},top:{flex:.8,backgroundColor:"#73186D",paddingHorizontal:"2.5%"},bottom:{flex:1.2,paddingHorizontal:"2.5%"},overview:{flex:.3,backgroundColor:"white",alignItems:"center",justifyContent:"space-around",marginTop:"2.5%",marginHorizontal:"2.5%",borderRadius:8},list:{flex:1.6,margin:"2.5%",zIndex:-1},overviewText:{fontSize:24,fontFamily:"Inter_700Bold",color:"#73186D"}}),ge=n(8724),je=l.default.create({picker:{backgroundColor:"white",marginBottom:6,paddingHorizontal:16,borderWidth:2,borderRadius:8,borderColor:"#73186D",minHeight:30},font:{fontSize:11,fontFamily:"Inter_700Bold",color:"#73186D"}});function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e){return(0,w.jsx)(ge.default,be(be({},e),{},{textStyle:je.font,labelStyle:je.font,maxHeight:320,style:je.picker}))}var Oe=l.default.create({container:{flex:1},head:{flexDirection:"row",alignItems:"center",padding:"5%"},field:{flex:1,flexDirection:"row",justifyContent:"space-around"},title:{fontSize:24,fontFamily:"Inter_700Bold",color:"white",marginLeft:"2.5%"},text:{fontSize:14,fontFamily:"Inter_500Medium",color:"white"}});function Ce(e){var t=(0,_.useNavigation)();return(0,w.jsxs)(x.default,{style:Oe.container,children:[(0,w.jsxs)(x.default,{style:Oe.head,children:[(0,w.jsx)(ee.default,{name:"chevron-left",color:"white",size:48,onPress:function(){t.navigate("Home")}}),(0,w.jsx)(g.default,{style:Oe.title,children:"Carteira de Clientes"})]}),(0,w.jsxs)(x.default,{style:Oe.field,children:[(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:Oe.text,children:"Total"}),(0,w.jsx)(g.default,{style:[Oe.text,{fontSize:20}],children:e.total}),(0,w.jsxs)(x.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(g.default,{style:[Oe.text,{color:"#FE38F2"}],children:e.total_}),(0,w.jsx)(g.default,{style:Oe.text,children:"\xa0carteira inativos"})]})]}),(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:Oe.text,children:"Ativos"}),(0,w.jsx)(g.default,{style:[Oe.text,{fontSize:20}],children:e.actives}),(0,w.jsxs)(x.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(g.default,{style:[Oe.text,{color:"#FE38F2"}],children:e.actives_}),(0,w.jsx)(g.default,{style:Oe.text,children:"\xa0carteira inativos"})]})]})]}),(0,w.jsx)(oe,{}),(0,w.jsxs)(x.default,{style:Oe.field,children:[(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:Oe.text,children:"Pre Inativos"}),(0,w.jsx)(g.default,{style:[Oe.text,{fontSize:20}],children:e.preInactives}),(0,w.jsxs)(x.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(g.default,{style:[Oe.text,{color:"#FE38F2"}],children:e.preInactives_}),(0,w.jsx)(g.default,{style:Oe.text,children:"\xa0carteira inativos"})]})]}),(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:Oe.text,children:"Inativos"}),(0,w.jsx)(g.default,{style:[Oe.text,{fontSize:20}],children:e.inactives}),(0,w.jsxs)(x.default,{style:{flexDirection:"row",justifyContent:"center"},children:[(0,w.jsx)(g.default,{style:[Oe.text,{color:"#FE38F2"}],children:e.inactives_}),(0,w.jsx)(g.default,{style:Oe.text,children:"\xa0carteira inativos"})]})]})]})]})}var Se=n(9566),De=n(7301),Pe=function(e){var t="";if(11==(e=(e=e.trim().replace(/\s/g,"").replace("-","")).startsWith("0")?e.slice(1):e).length)t="("+e.slice(0,2)+") "+e.slice(2,7)+"-"+e.slice(7,11);else{if(10!=e.length)return e;t="("+e.slice(0,2)+") 9"+e.slice(2,6)+"-"+e.slice(6,10)}return t},ke=function(e){if(1==(e=e.trim().replace(/\s/g,"").replace(":","")).length)e="0"+e+":00";else if(2==e.length)e+=":00";else{var t=e.slice(0,2),n=e.slice(2,4);e=t+":"+n}return e},Ie=function(e,t,n){(e=e.trim().replace(/\s/g,"").replace("-","")).startsWith("0")&&(e=e.slice(1)),e="55"+e;var r="";r=n?"Ol\xe1 *"+t+"*, voc\xea tem uma visita agendada para hoje, \xe0s *"+n+"*, podemos confirmar? Sen\xe3o, podemos remarcar?":"Ol\xe1 *"+t+"*";var o=function(){var t=(0,u.default)((function*(){yield De.default.canOpenURL("whatsapp://send?text="+r).then((function(t){return t?De.default.openURL("whatsapp://send?phone="+e+"&text="+r):De.default.openURL("https://api.whatsapp.com/send?phone="+e+"&text="+r)}))}));return function(){return t.apply(this,arguments)}}();o().catch((function(e){return console.error(e)}))},Fe=function(e){(e=e.trim().replace(/\s/g,"").replace("-","")).startsWith("0")&&(e=e.slice(1));var t=function(){var t=(0,u.default)((function*(){yield De.default.openURL("tel:"+e)}));return function(){return t.apply(this,arguments)}}();t().catch((function(e){return console.error(e)}))},ze=function(e){return e?e.length>24?e.slice(0,23).concat("..."):e:void 0},Ee=l.default.create({icons:{flexDirection:"row",position:"relative",right:0,gap:32},icon:{alignItems:"center",justifyContent:"center",backgroundColor:"#73186D",padding:8,borderRadius:4,zIndex:99}});function Te(e){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(m.default,{style:Ee.icon,onPress:function(){Fe(e.phone)},children:(0,w.jsx)(ee.default,{name:"phone",color:"white",size:32})}),(0,w.jsx)(m.default,{style:[Ee.icon,{backgroundColor:"green"}],onPress:function(){Ie(e.phone,e.costumer)},children:(0,w.jsx)(le.default,{name:"whatsapp",color:"white",size:32})})]})}var _e=l.default.create({container:{flex:1,backgroundColor:"white",borderRadius:8,marginVertical:"2.5%",padding:"2.5%"},top:{flexDirection:"row",marginBottom:"2.5%",justifyContent:"space-between"},bottom:{flexDirection:"row",justifyContent:"space-between"},code:{fontSize:12,fontFamily:"Inter_500Medium",color:"#73186D"},costumer:{fontSize:10,fontFamily:"Inter_500Medium",color:"silver"},box:{paddingVertical:2,paddingHorizontal:6,marginHorizontal:4,borderRadius:4}});function Ae(e){var t=e.data;return(0,w.jsxs)(m.default,{style:_e.container,onPress:function(){},children:[(0,w.jsxs)(x.default,{style:_e.top,children:[(0,w.jsxs)(x.default,{style:{flexDirection:"row",gap:8},children:[(0,w.jsx)(g.default,{style:_e.code,children:t.id}),(0,w.jsx)(x.default,{style:[_e.box,{backgroundColor:"Ativo"==t.situacao?"#00B81F":"#C00404"}],children:(0,w.jsx)(g.default,{style:[_e.costumer,{color:"white"}],children:t.situacao})})]}),(0,w.jsx)(g.default,{style:_e.code,children:Pe(t.telefone)})]}),(0,w.jsxs)(x.default,{style:_e.bottom,children:[(0,w.jsxs)(x.default,{children:[(0,w.jsx)(g.default,{style:_e.costumer,children:ze(t.nomeCliente)}),t.nascimento?(0,w.jsxs)(g.default,{style:_e.costumer,children:["Nascimento: ",t.nascimento]}):void 0,t.ultimaCompra?(0,w.jsxs)(g.default,{style:_e.costumer,children:["\xdaltima compra: ",t.ultimaCompra]}):void 0]}),(0,w.jsx)(x.default,{style:Ee.icons,children:t.telefone?(0,w.jsx)(Te,{phone:t.telefone,costumer:t.nomeCliente}):void 0})]})]})}function Re(e){return(0,w.jsx)(Se.default,{data:e.data,renderItem:function(e){var t=e.item;return(0,w.jsx)(Ae,{data:t})}})}var Be=function(e){return e.TODOS="Todos",e.ATIVO="Ativo",e.PRE_INATIVO_1="Pre Inativo 1 60 dias sem compras",e.PRE_INATIVO_2="Pre Inativo 2 70 dias sem compras",e.PRE_INATIVO_3="Pre Inativo 3 80 dias sem compras",e.BLOQUEADO_MEDIA="Bloqueado media de vendas",e.BLOQUEADO_90_DIAS="Bloqueado 90 dias sem compras",e.BLOQUEADO_150_DIAS="Bloqueado 150 dias sem compras",e.ANIVERSARIANTES="Aniversariantes",e}({}),Le=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get("/carteira/000001/"+t)).data}));return function(e){return t.apply(this,arguments)}}();return{get:t}},Me="/carteira/totalizador",Ne=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get(Me+"/000001/"+t)).data}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get(Me+"/000002/"+t)).data}));return function(e){return t.apply(this,arguments)}}();return{getActives:t,getInactives:n}},He=function(){var e=new Date,t=e.getDay().toString();1==t.toString().length&&(t="0"+t);var n=(e.getMonth()+1).toString();return 1==n.toString().length&&(n="0"+n),t+"/"+n+"/"+e.getFullYear().toString()};function Ve(e){var t=e.navigation,n=(0,c.useContext)(R),o=(0,c.useState)(),l=(0,r.default)(o,2),a=l[0],s=l[1],d=(0,c.useState)(Be.ATIVO),f=(0,r.default)(d,2),h=f[0],p=f[1],y=(0,c.useState)(!1),v=(0,r.default)(y,2),g=v[0],j=v[1],m=(0,c.useState)(),b=(0,r.default)(m,2),O=b[0],C=b[1],S=(0,c.useState)(),D=(0,r.default)(S,2),P=D[0],k=D[1],I=(0,c.useState)(),F=(0,r.default)(I,2),z=F[0],E=F[1],T=(0,c.useState)(),_=(0,r.default)(T,2),A=_[0],B=_[1],L=Le(),M=Ne();(0,c.useEffect)((function(){return t.addListener("focus",(function(){n.startLoading(),N().finally(n.stopLoading)}))}),[t]);var N=function(){var e=(0,u.default)((function*(){var e,t,o;yield Promise.all([L.get(null==(e=n.user)?void 0:e.sub),M.getActives(null==(t=n.user)?void 0:t.sub),M.getInactives(null==(o=n.user)?void 0:o.sub)]).then(function(){var e=(0,u.default)((function*(e){var t=(0,r.default)(e,3),o=t[0],i=t[1],l=t[2];o.length?(C(o),k(o),E(i),B(l),H()):n.showDialog("noData")}));return function(t){return e.apply(this,arguments)}}())}));return function(){return e.apply(this,arguments)}}(),H=function(){s(Object.entries(Be).flatMap((function(e){return{value:e[1],label:e[1]}})))};return(0,w.jsxs)(x.default,{style:xe.container,children:[(0,w.jsx)(x.default,{style:xe.top,children:(0,w.jsx)(Ce,{total:null==z?void 0:z.total,total_:null==A?void 0:A.total,actives:null==z?void 0:z.ativos,actives_:null==A?void 0:A.ativos,preInactives:null==z?void 0:z.preInativos,preInactives_:null==A?void 0:A.preInativos,inactives:null==z?void 0:z.inativos,inactives_:null==A?void 0:A.inativos})}),(0,w.jsxs)(x.default,{style:xe.bottom,children:[(0,w.jsx)(x.default,{style:xe.overview,children:(0,w.jsx)(x.default,{style:{width:"90%"},children:(0,w.jsx)(we,{items:a||[],value:h,setValue:p,open:g,setOpen:j,onChangeValue:function(){P&&(h==Be.TODOS?C(P):h==Be.ANIVERSARIANTES?C(P.filter((function(e){if(e.nascimento.slice(0,5)==He().slice(0,5))return e}))):C(P.filter((function(e){return e.situacao.includes(h)}))))},placeholder:"Todos"})})}),(0,w.jsx)(x.default,{style:xe.list,children:(0,w.jsx)(Re,{data:O})})]}),(0,w.jsx)(i.default,{style:"light",translucent:!1,backgroundColor:"#601C5C"})]})}var We=l.default.create({container:{flex:1,maxHeight:N.default.get("window").height,backgroundColor:"#F0F2F7"},top:{flex:.8,backgroundColor:"#73186D",paddingHorizontal:"2.5%"},bottom:{flex:1.2,paddingHorizontal:"2.5%"},overview:{flex:.4,minHeight:136,flexDirection:"row",backgroundColor:"white",alignItems:"center",justifyContent:"space-around",marginTop:"2.5%",marginHorizontal:"2.5%",marginBottom:"1.25%",borderRadius:8},list:{flex:1.6,margin:"2.5%"},overview_1:{fontSize:14,fontFamily:"Inter_500Medium",color:"silver",marginBottom:"5%"},overview_2:{fontSize:14,fontFamily:"Inter_700Bold",color:"#FE38F2",marginBottom:"2.5%"},overview_3:{fontSize:24,fontFamily:"Inter_700Bold",color:"#73186D"}});function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){return(0,w.jsx)(v.default,qe(qe({},e),{},{visible:e.visible,transparent:!0,animationType:"fade",children:(0,w.jsx)(x.default,{style:j.container,children:(0,w.jsxs)(x.default,{style:j.field,children:[(0,w.jsx)(g.default,{style:j.title,children:e.title}),e.children,(0,w.jsx)(S,{onPress:e.dismiss,title:"CANCELAR"})]})})}))}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e){return(0,w.jsx)(V.default,Ge(Ge({},e),{},{autoCapitalize:"none",maxFontSizeMultiplier:14,placeholder:"DIGITE AQUI AS OBSERVA\xc7\xd5ES...",keyboardType:"default",multiline:!0,numberOfLines:4,style:[W.input,{height:256}]}))}var Ye=function(e){return e.AGENDAMENTO="Agendamento",e.REMARCADO="Remarcado",e.CLIENTE_NAO_COMPARECEU="Cliente n\xe3o compareceu",e.CONCLUIDO="Conclu\xeddo",e}({}),Ke="/agendamento",Xe=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get(Ke+"/"+t)).data}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));yield f(null==n?void 0:n.token).put(Ke,t)}));return function(e){return t.apply(this,arguments)}}();return{get:t,put:n}};function Ze(e){var t=e.data,n=(0,c.useState)(!1),o=(0,r.default)(n,2),i=o[0],l=o[1],a=(0,c.useState)(t.observacao?t.observacao:""),s=(0,r.default)(a,2),d=s[0],f=s[1],h=(0,c.useState)(),p=(0,r.default)(h,2),y=p[0],v=p[1],j=(0,c.useState)(),b=(0,r.default)(j,2),O=b[0],C=b[1],D=(0,c.useState)(!1),P=(0,r.default)(D,2),k=P[0],I=P[1],F=Xe();(0,c.useEffect)((function(){z()}),[]);var z=function(){v(Object.entries(Ye).flatMap((function(e){return{value:e[1],label:e[1]}})))};return(0,w.jsxs)(m.default,{style:_e.container,onPress:function(){l(!0)},children:[(0,w.jsxs)(x.default,{style:_e.top,children:[(0,w.jsxs)(x.default,{style:{flexDirection:"row",gap:8},children:[(0,w.jsx)(g.default,{style:_e.code,children:t.id}),(0,w.jsx)(x.default,{style:[_e.box,{backgroundColor:"Chegou"==t.situacao?"#00B81F":"#C00404"}],children:(0,w.jsx)(g.default,{style:[_e.costumer,{color:"white"}],children:ke(t.horaInicial)})}),(0,w.jsx)(x.default,{style:[_e.box,{backgroundColor:"Previsto"==t.situacao?"#FE38F2":"#00B81F"}],children:(0,w.jsx)(g.default,{style:[_e.costumer,{color:"white"}],children:ke(t.horaFinal)})})]}),(0,w.jsx)(g.default,{style:_e.code,children:Pe(t.telefone)})]}),(0,w.jsxs)(x.default,{style:_e.bottom,children:[(0,w.jsxs)(x.default,{children:[(0,w.jsx)(g.default,{style:_e.costumer,children:ze(t.nomeCliente.trim())}),(0,w.jsx)(g.default,{style:_e.costumer,children:"Coment\xe1rio:"}),(0,w.jsx)(g.default,{style:_e.costumer,children:ze(t.observacao.trim())})]}),(0,w.jsx)(x.default,{style:Ee.icons,children:t.telefone?(0,w.jsx)(Te,{phone:t.telefone,costumer:t.nomeCliente}):void 0})]}),(0,w.jsxs)($e,{title:"Observa\xe7\xe3o",visible:i,dismiss:function(){return l(!1)},children:[(0,w.jsx)(Je,{value:d,onChangeText:f}),(0,w.jsx)(we,{items:y||[],value:O,setValue:C,open:k,setOpen:I,placeholder:"Selecione"}),(0,w.jsx)(S,{title:"SALVAR",disabled:!O,onPress:function(){var e=function(){var e=(0,u.default)((function*(){O&&(yield F.put({id:t.id,codigoVendedor:t.codigoVendedor,comentario:d.toUpperCase(),situacao:O}))}));return function(){return e.apply(this,arguments)}}();e().then((function(){})).finally((function(){l(!1)}))}})]})]})}function et(e){return(0,w.jsx)(Se.default,{data:e.data,renderItem:function(e){var t=e.item;return(0,w.jsx)(Ze,{data:t})}})}var tt=l.default.create({container:{flex:1},head:{flex:1,flexDirection:"row",alignItems:"center",padding:"5%"},field:{flex:3,flexDirection:"row",justifyContent:"space-around"},title:{fontSize:24,fontFamily:"Inter_700Bold",color:"white",marginLeft:"2.5%"},text:{fontSize:14,fontFamily:"Inter_500Medium",color:"white"}});function nt(e){e||(e={dailyTotal:0,monthlyTotal:0,dailyPredicted:0,monthlyPredicted:0,dailyAbsences:0,monthlyAbsences:0,dailyArrivals:0,monthlyArrivals:0});var t=(0,_.useNavigation)();return(0,w.jsxs)(x.default,{style:tt.container,children:[(0,w.jsxs)(x.default,{style:tt.head,children:[(0,w.jsx)(ee.default,{name:"chevron-left",color:"white",size:48,onPress:function(){t.navigate("Home")}}),(0,w.jsx)(g.default,{style:tt.title,children:"Agendamentos"})]}),(0,w.jsxs)(x.default,{style:tt.field,children:[(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:tt.text,children:"Total"}),(0,w.jsx)(g.default,{style:[tt.text,{fontSize:20}],children:e.dailyTotal}),(0,w.jsxs)(x.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(rt,{status:e.monthlyTotal}),(0,w.jsx)(g.default,{style:[tt.text,{color:"#FE38F2"}],children:e.monthlyTotal}),(0,w.jsx)(g.default,{style:tt.text,children:"\xa0dentro do m\xeas"})]})]}),(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:tt.text,children:"Previstos"}),(0,w.jsx)(g.default,{style:[tt.text,{fontSize:20}],children:e.dailyPredicted}),(0,w.jsxs)(x.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(rt,{status:e.monthlyPredicted}),(0,w.jsx)(g.default,{style:[tt.text,{color:"#FE38F2"}],children:e.monthlyPredicted}),(0,w.jsx)(g.default,{style:tt.text,children:"\xa0dentro do m\xeas"})]})]})]}),(0,w.jsx)(oe,{}),(0,w.jsxs)(x.default,{style:tt.field,children:[(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:tt.text,children:"Faltas"}),(0,w.jsx)(g.default,{style:[tt.text,{fontSize:20}],children:e.dailyAbsences}),(0,w.jsxs)(x.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(rt,{status:e.monthlyAbsences}),(0,w.jsx)(g.default,{style:[tt.text,{color:"#FE38F2"}],children:e.monthlyAbsences}),(0,w.jsx)(g.default,{style:tt.text,children:"\xa0dentro do m\xeas"})]})]}),(0,w.jsxs)(x.default,{style:{justifyContent:"space-around"},children:[(0,w.jsx)(g.default,{style:tt.text,children:"Chegaram"}),(0,w.jsx)(g.default,{style:[tt.text,{fontSize:20}],children:e.dailyArrivals}),(0,w.jsxs)(x.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(rt,{status:e.monthlyArrivals}),(0,w.jsx)(g.default,{style:[tt.text,{color:"#FE38F2"}],children:e.monthlyArrivals}),(0,w.jsx)(g.default,{style:tt.text,children:"\xa0dentro do m\xeas"})]})]})]})]})}function rt(e){return e.status>=0?(0,w.jsx)(ee.default,{name:"arrow-upward",color:"#60D29D",size:18}):(0,w.jsx)(ee.default,{name:"arrow-downward",color:"#FF5454",size:18})}var ot="/agendamento/totalizador",it=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get(ot+"/diario/"+t)).data}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get(ot+"/mensal/"+t)).data}));return function(e){return t.apply(this,arguments)}}();return{getDaily:t,getMontly:n}};function lt(e){var t=e.navigation,n=(0,c.useContext)(R),o=(0,c.useState)(),l=(0,r.default)(o,2),a=l[0],s=l[1],d=(0,c.useState)(),f=(0,r.default)(d,2),h=f[0],p=f[1],y=(0,c.useState)(),v=(0,r.default)(y,2),g=v[0],j=v[1],m=Xe(),b=it();(0,c.useEffect)((function(){return t.addListener("focus",(function(){n.startLoading(),O().finally(n.stopLoading)}))}),[t]);var O=function(){var e=(0,u.default)((function*(){var e,t,o;yield Promise.all([m.get(null==(e=n.user)?void 0:e.sub),b.getDaily(null==(t=n.user)?void 0:t.sub),b.getMontly(null==(o=n.user)?void 0:o.sub)]).then(function(){var e=(0,u.default)((function*(e){var t=(0,r.default)(e,3),o=t[0],i=t[1],l=t[2];o.length&&i&&l?(s(o),p(i),j(l)):n.showDialog("noData")}));return function(t){return e.apply(this,arguments)}}())}));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(x.default,{style:We.container,children:[(0,w.jsx)(x.default,{style:We.top,children:(0,w.jsx)(nt,{dailyTotal:null==h?void 0:h.total,monthlyTotal:null==g?void 0:g.total,dailyPredicted:null==h?void 0:h.previstos,monthlyPredicted:null==g?void 0:g.previstos,dailyAbsences:null==h?void 0:h.faltas,monthlyAbsences:null==g?void 0:g.faltas,dailyArrivals:null==h?void 0:h.chegadas,monthlyArrivals:null==g?void 0:g.chegadas})}),(0,w.jsxs)(x.default,{style:We.bottom,children:[void 0,(0,w.jsx)(x.default,{style:We.list,children:(0,w.jsx)(et,{data:a})})]}),(0,w.jsx)(i.default,{style:"light",translucent:!1,backgroundColor:"#601C5C"})]})}var at=l.default.create({container:{flex:1,maxHeight:N.default.get("window").height,backgroundColor:"#F0F2F7"},top:{height:300,backgroundColor:"#73186D",paddingHorizontal:"2.5%"},bottom:{flex:1.3,paddingHorizontal:"2.5%"},overview:{flex:.4,flexDirection:"row",backgroundColor:"white",alignItems:"center",justifyContent:"space-around",marginTop:"2.5%",marginHorizontal:"2.5%",marginBottom:"1.25%",borderRadius:8},overview_box:{flex:1,flexDirection:"row",justifyContent:"space-between"},overview_inner_box:{flexDirection:"row",alignItems:"center",paddingRight:"2.5%"},list:{flex:1.6,margin:"2.5%"},overview_1:{fontSize:14,fontFamily:"Inter_500Medium",color:"silver",marginBottom:"2.5%"},overview_2:{fontSize:24,fontFamily:"Inter_700Bold",color:"#73186D"},overview_3:{fontSize:14,fontFamily:"Inter_500Medium",color:"#60D29D"}}),st=l.default.create({container:{flex:1},head:{flexDirection:"row",alignItems:"center",padding:"5%"},field:{flex:3},title:{fontSize:24,fontFamily:"Inter_700Bold",color:"white",marginLeft:"2.5%"}}),ut=l.default.create({container:{alignItems:"center",justifyContent:"flex-end"},bar:{width:16,borderRadius:8,backgroundColor:"#B024A7",marginHorizontal:8},selected:{width:16,height:"100%",borderRadius:8,backgroundColor:"#FE38F2"},title:{fontSize:12,fontFamily:"Inter_500Medium",color:"white"}});function ct(e){var t=(0,c.useContext)(R),n=100*e.step/e.steps,r=e.title.slice(0,2);return r.startsWith("0")&&(r=r.substring(1)),(0,w.jsxs)(x.default,{style:ut.container,children:[(0,w.jsx)(m.default,{onPress:function(){t.handleChangeDate(e.title)},style:[ut.bar,{height:n>90?"90%":n+"%"}],disabled:e.selected,children:e.selected?(0,w.jsx)(x.default,{style:ut.selected}):void 0}),(0,w.jsx)(g.default,{style:ut.title,children:r})]})}function dt(e){var t=e.data;return(0,w.jsx)(ct,{title:t?t.periodo:"",step:t?t.total:0,steps:10,selected:!!t&&t.selected})}function ft(e){return(0,w.jsx)(Se.default,{data:e.data,renderItem:function(e){var t=e.item;return(0,w.jsx)(dt,{data:t})},horizontal:!0})}function ht(e){var t=(0,_.useNavigation)();return(0,w.jsxs)(x.default,{style:st.container,children:[(0,w.jsxs)(x.default,{style:st.head,children:[(0,w.jsx)(ee.default,{name:"chevron-left",color:"white",size:48,onPress:function(){t.navigate("Home")}}),(0,w.jsx)(g.default,{style:st.title,children:"Faturamento"})]}),(0,w.jsx)(ft,{data:e.data})]})}var pt=l.default.create({container:{flex:1,backgroundColor:"white",borderRadius:8,marginVertical:"2.5%",padding:"2.5%"},top:{flexDirection:"row",marginBottom:"2.5%"},bottom:{flexDirection:"row",justifyContent:"space-between"},code:{fontSize:12,fontFamily:"Inter_500Medium",color:"#73186D"},costumer:{fontSize:10,fontFamily:"Inter_500Medium",color:"silver"},box:{paddingVertical:2,paddingHorizontal:6,marginHorizontal:4,borderRadius:4}});function yt(e){var t=e.data,n=function(e){return e.includes(",")?e.split(",")[1].length<2&&(e+="0"):e+=",00",e},r=n(t.total.toLocaleString("pt-BR")),o=n(t.valorNCC.toLocaleString("pt-BR")),i=n((t.total-t.valorNCC).toLocaleString("pt-BR"));return(0,w.jsxs)(x.default,{style:pt.container,children:[(0,w.jsxs)(x.default,{style:pt.top,children:[(0,w.jsx)(g.default,{style:pt.code,children:t.id}),(0,w.jsx)(x.default,{style:[pt.box,{backgroundColor:"#00B81F"}],children:(0,w.jsx)(g.default,{style:[pt.costumer,{color:"white"}],children:t.tipoOrcamento})}),(0,w.jsxs)(x.default,{style:{position:"absolute",right:0},children:[(0,w.jsxs)(g.default,{style:[pt.code,{color:"green"}],children:["R$ ",r]}),t.valorNCC>0?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(g.default,{style:[pt.code,{color:"red"}],children:["R$ ",o]}),(0,w.jsxs)(g.default,{style:pt.code,children:["R$ ",i]})]}):void 0]})]}),(0,w.jsx)(x.default,{style:pt.bottom,children:(0,w.jsx)(g.default,{style:pt.costumer,children:t.nomeCliente})})]})}function vt(e){return(0,w.jsx)(Se.default,{data:e.data,renderItem:function(e){var t=e.item;return(0,w.jsx)(yt,{data:t})}})}var xt=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t,n){var r=yield e.validateToken().then((function(e){return e})),o=n.split("/");return n=o[2]+"-"+o[1]+"-"+o[0],(yield f(null==r?void 0:r.token).get("/faturamento/totalizador/diario/"+t+"/"+n)).data}));return function(e,n){return t.apply(this,arguments)}}();return{get:t}},gt=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t){var n=yield e.validateToken().then((function(e){return e}));return(yield f(null==n?void 0:n.token).get("/faturamento/progresso/"+t)).data}));return function(e){return t.apply(this,arguments)}}();return{get:t}},jt=function(){var e=(0,c.useContext)(R),t=function(){var t=(0,u.default)((function*(t,n){var r=yield e.validateToken().then((function(e){return e})),o=n.split("/");return n=o[2]+"-"+o[1]+"-"+o[0],(yield f(null==r?void 0:r.token).get("/faturamento/"+t+"/"+n)).data}));return function(e,n){return t.apply(this,arguments)}}();return{get:t}};function mt(e){var t=e.navigation,n=(0,c.useContext)(R),o=(0,c.useState)(),l=(0,r.default)(o,2),a=l[0],s=l[1],d=(0,c.useState)(),f=(0,r.default)(d,2),h=f[0],p=f[1],y=(0,c.useState)(),v=(0,r.default)(y,2),j=v[0],m=v[1],b=(0,c.useState)(),O=(0,r.default)(b,2),C=O[0],S=O[1],D=(0,c.useState)(),P=(0,r.default)(D,2),k=P[0],I=P[1],F=n.date,z=xt(),E=gt(),_=jt(),A=(0,c.useState)(!1),B=(0,r.default)(A,2),L=B[0],M=B[1];(0,c.useEffect)((function(){return t.addListener("focus",(function(){n.startLoading(),H().finally(n.stopLoading)}))}),[t]),(0,c.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){yield Promise.all([W(a)])}));return function(){return e.apply(this,arguments)}}();a&&e().catch((function(e){return console.error(e)}))}),[a]),(0,c.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){yield Promise.all([U(a,F)])}));return function(){return e.apply(this,arguments)}}();a&&e().catch((function(e){return console.error(e)}))}),[n.date]);var N,H=function(){var e=(0,u.default)((function*(){var e;yield Promise.all([E.get(null==(e=n.user)?void 0:e.sub)]).then(function(){var e=(0,u.default)((function*(e){var t=(0,r.default)(e,1)[0];t.length?s(t):n.showDialog("noData")}));return function(t){return e.apply(this,arguments)}}())}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,u.default)((function*(e){var t;M(!0),yield _.get(null==(t=n.user)?void 0:t.sub,e).then((function(e){e&&p(e)})),M(!1)}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,u.default)((function*(e){if(M(!0),e){var t=[];if(e.forEach((function(e){t.push(e)})),t.length>0){var n=t[t.length-1].periodo,r=t.find((function(e){return e.periodo==n}));r.selected=!0,S(r);var o=t.findIndex((function(e){return e.periodo==n}));t[o]=r,m(t),yield Promise.all([V(n),q(n)])}}M(!1)}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,u.default)((function*(e,t){if(M(!0),e&&t){var n=[];e.forEach((function(e){n.push(e)}));var r=n.find((function(e){return e.periodo==t}));e.forEach((function(e){e.selected=!1})),r.selected=!0,S(r);var o=n.findIndex((function(e){return e.periodo==t}));n[o]=r,m(n),yield Promise.all([V(t),q(t)])}M(!1)}));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=(0,u.default)((function*(e){var t;yield z.get(null==(t=n.user)?void 0:t.sub,e).then((function(e){I(e)}))}));return function(t){return e.apply(this,arguments)}}(),$=k?((N=k.liquido.toLocaleString("pt-BR")).includes(",")?N.split(",")[1].length<2&&(N+="0"):N+=",00",N):0;return(0,w.jsxs)(x.default,{style:at.container,children:[(0,w.jsx)(x.default,{style:at.top,children:(0,w.jsx)(ht,{data:j})}),(0,w.jsxs)(x.default,{style:at.bottom,children:[(0,w.jsxs)(x.default,{style:at.overview,children:[(0,w.jsx)(x.default,{style:{flex:1},children:(0,w.jsx)(ee.default,{name:"bar-chart",color:"white",size:36,style:{padding:8,backgroundColor:"#FE38F2",borderRadius:90,alignSelf:"center"}})}),(0,w.jsxs)(x.default,{style:{flex:3},children:[(0,w.jsx)(g.default,{style:at.overview_1,children:null==C?void 0:C.periodo}),(0,w.jsxs)(x.default,{style:at.overview_box,children:[k&&"R$ 0,00"!=$?(0,w.jsxs)(g.default,{style:at.overview_2,children:["R$ ",$]}):void 0,void 0]})]})]}),(0,w.jsx)(x.default,{style:at.list,children:(0,w.jsx)(vt,{data:h})})]}),(0,w.jsx)(T,{visible:L}),(0,w.jsx)(i.default,{style:"light",translucent:!1,backgroundColor:"#601C5C"})]})}function bt(){var e=(0,L.default)();return(0,w.jsxs)(e.Navigator,{screenOptions:{headerShown:!1},children:[(0,w.jsx)(e.Screen,{name:"Home",component:ve}),(0,w.jsx)(e.Screen,{name:"Scheduling",component:lt}),(0,w.jsx)(e.Screen,{name:"Wallet",component:Ve}),(0,w.jsx)(e.Screen,{name:"Billing",component:mt})]})}function wt(){return(0,c.useContext)(R).user?(0,w.jsx)(bt,{}):(0,w.jsx)(K,{})}function Ot(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ct=n(7534);function St(){var e=(0,Ct.useFonts)({Inter_500Medium:Ct.Inter_500Medium,Inter_700Bold:Ct.Inter_700Bold});return(0,r.default)(e,1)[0]?(0,w.jsx)(a.default,{style:Dt.container,children:(0,w.jsx)(o.default,{children:(0,w.jsxs)(B,{children:[(0,w.jsx)(wt,{}),(0,w.jsx)(i.default,{style:"light",translucent:!1})]})})}):null}var Dt=l.default.create({container:{flex:1,backgroundColor:"#601C5C"}});"web"===s.default.OS&&function(e){var t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));if("serviceWorker"in navigator){if(new URL("/rommanel-super-vendedor-frontend",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="/rommanel-super-vendedor-frontend/service-worker.js";t?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ot(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ot(n,e)}))}}()},2799:(e,t,n)=>{e.exports=n.p+"static/media/ROMMANEL_BUTTLERFLY.56244105cc1e1911205f.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var l=1/0;for(c=0;c<e.length;c++){for(var[r,o,i]=e[c],a=!0,s=0;s<r.length;s++)(!1&i||l>=i)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(a=!1,i<l&&(l=i));if(a){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/rommanel-super-vendedor-frontend/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[l,a,s]=r,u=0;if(l.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(s)var c=s(n)}for(t&&t(r);u<l.length;u++)i=l[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[227],(()=>n(9484)));r=n.O(r)})();
//# sourceMappingURL=main.625a24b9.js.map